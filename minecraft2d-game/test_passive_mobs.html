<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>è¢«åŠ¨ç”Ÿç‰©ç³»ç»Ÿæµ‹è¯•</title>
</head>
<body>
    <h1>è¢«åŠ¨ç”Ÿç‰©ç³»ç»Ÿæµ‹è¯•</h1>
    <p>æ‰“å¼€æµè§ˆå™¨æ§åˆ¶å°æŸ¥çœ‹æµ‹è¯•ç»“æœ</p>
    
    <script type="module">
        // åŠ¨æ€å¯¼å…¥æ‰€éœ€çš„æ¨¡å—
        import { EntityManager } from './src/entities/EntityManager.js';
        import { Cow } from './src/entities/Cow.js';
        import { Pig } from './src/entities/Pig.js';
        import { Chicken } from './src/entities/Chicken.js';
        
        // åˆ›å»ºæµ‹è¯•ç”¨çš„ä¸–ç•Œé…ç½®
        const worldConfig = {
            WORLD_HEIGHT: 512,
            CHUNK_SIZE: 16,
            BLOCK_SIZE: 16
        };
        
        // åˆ›å»ºå®ä½“ç®¡ç†å™¨
        const entityManager = new EntityManager(worldConfig);
        
        console.log('ğŸ§ª å¼€å§‹æµ‹è¯•è¢«åŠ¨ç”Ÿç‰©ç³»ç»Ÿ...');
        
        // æµ‹è¯•åˆ›å»ºç‰›
        const cow = new Cow(worldConfig, 100, 100);
        console.log('âœ… ç‰›åˆ›å»ºæˆåŠŸ:', cow.type, cow.position);
        
        // æµ‹è¯•åˆ›å»ºçŒª
        const pig = new Pig(worldConfig, 150, 100);
        console.log('âœ… çŒªåˆ›å»ºæˆåŠŸ:', pig.type, pig.position);
        
        // æµ‹è¯•åˆ›å»ºé¸¡
        const chicken = new Chicken(worldConfig, 200, 100);
        console.log('âœ… é¸¡åˆ›å»ºæˆåŠŸ:', chicken.type, chicken.position);
        
        // æµ‹è¯•æ·»åŠ å®ä½“åˆ°ç®¡ç†å™¨
        entityManager.addEntity(cow);
        entityManager.addEntity(pig);
        entityManager.addEntity(chicken);
        
        console.log('âœ… å®ä½“æ·»åŠ åˆ°ç®¡ç†å™¨æˆåŠŸ');
        
        // æµ‹è¯•è·å–å®ä½“
        const cows = entityManager.getEntitiesByType('cow');
        const pigs = entityManager.getEntitiesByType('pig');
        const chickens = entityManager.getEntitiesByType('chicken');
        
        console.log('ğŸ“Š å®ä½“ç»Ÿè®¡:');
        console.log('  ç‰›æ•°é‡:', cows.length);
        console.log('  çŒªæ•°é‡:', pigs.length);
        console.log('  é¸¡æ•°é‡:', chickens.length);
        
        // æµ‹è¯•æ›´æ–°å®ä½“
        entityManager.update(0.016); // æ¨¡æ‹Ÿ16msçš„ä¸€å¸§
        console.log('âœ… å®ä½“æ›´æ–°æµ‹è¯•æˆåŠŸ');
        
        console.log('ğŸ‰ è¢«åŠ¨ç”Ÿç‰©ç³»ç»Ÿæµ‹è¯•å®Œæˆ!');
    </script>
</body>
</html>